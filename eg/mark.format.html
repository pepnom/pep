
   <!-- html generated by nom script: mark.html.pss -->
   <html>
   <head>
   <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
   <style>

    figure {
      float: right;
      width: 30%;
      text-align: center;
      font-style: italic;
      font-size: smaller;
      text-indent: 0;
      border: thin silver solid;
      margin: 0.5em;
      padding: 0.5em;
    }

   </style>
   <title></title>
   </head>
   <body>

  
   && Another Plaintext Document Format

<h3 class="section.heading">Introduction</h3> 

  This document is about a type of <em><code>markdown</code></em> format that 
  I use for my own documentation. This document also serves as 
  a test document for the scripts &laquo;<code>mark.latex.pss</code>&raquo; and &laquo;<code>mark.html.pss</code>&raquo; 
  etc. Those 2 scripts use a word-by-word parsing technique with the 
  pep/nom pattern engine to recognise the patterns in the document. 

  It is also important that this document should include '<code>insignifican&rsquo;t</code>' 
  patterns in order to test the ability of the mark scripts to 
  reduce tokens properly. Since this is a mark-down format, errors 
  in formatting should not cause the parser to crash or produce no output. 
  That means the parser should recover gracefully in all cases and at 
  least produce plain-text output (if not properly formatted). 

  This format is simply one that I enjoy using, and I don&rsquo;t claim that 
  it has any general merit or that it is in any way '<code>better</code>' than 
  the standard <em><code>markdown</code></em> or CommonMark format.

<h3 class="section.heading">Images</h3> 

  Images can be inserted into documents starting with a double square 
  bracket [[ then followed by an image filename such as <code>../img/parsetree.png</code> 

  The image tokens like [[ ]] and <code>../image/parsetree.png</code> need to be 
  space delimited. An example image: 
<figure style='float:none; width:60%'>
<img style='width:60%' src='../img/parsetree.png'/>
<figcaption class='image.caption'></figcaption>
</figure> 
 
  Images can also have a caption quotation, a width specifier and a 
  page position (float) indicator, in that order. Apart from the image 
  file name the other attributes are all optional, so we can specify 
  just the position indicator for example 
    
<figure style='float:left; width:60%'>
<img style='width:60%' src='../img/parsetree.png'/>
<figcaption class='image.caption'></figcaption>
</figure> 
  The position indicators are currently &gt;&gt;&gt; (float right) &lt;&lt;&lt; (float left) 
  and ccc (center align). 

  Image widths can be measured in % pt cm mm or em 

 <figure class='code.line'><figcaption>
   <em>An example image format.</em> </figcaption>  <pre class='oneline'><code> [[ ../img/parsetree.png """a parsetree""" 30% >>> ]] </code></pre>
 </figure> 
 

  <code>apple2e.png</code> <code>logo.spirals.png</code> <code>pp.interactive.screenshot.png</code> 
  <code>logo.circles.jpg</code> <code>logo.tricircle.png</code> 
  <code>logo.lang.ibm.png</code> <code>parsetree.png</code> 

 <em>An image with 50% page width</em>

 
  
<figure style='float:none; width:50%'>
<img style='width:50%' src='../img/apple2e.png'/>
<figcaption class='image.caption'></figcaption>
</figure> 

  (old versions) LaTeX doesn&rsquo;t always like dots in file names, but <code>mark.latex.pss</code> 
  should deal with this. 

 <em>A centered image at 20% width </em>

 
  
<figure style='float:none; width:40%'>
<img style='width:40%' src='http://bumble.sourceforge.net/books/pars/img/logo.circles.jpg'/>
<figcaption class='image.caption'>A centered image</figcaption>
</figure> 

 <em>An image floating left at 20% width </em>

 
  
<figure style='float:left; width:20%'>
<img style='width:20%' src='../img/logo.spirals.png'/>
<figcaption class='image.caption'>Spirals</figcaption>
</figure> 

 <em>An image floating right at 40% width </em>

 
  
<figure style='float:right; width:40%'>
<img style='width:40%' src='../img/logo.lang.ibm.png'/>
<figcaption class='image.caption'></figcaption>
</figure> 

 <em>An image with width measured in 60pt points </em>

 
  
<figure style='float:none; width:60pt'>
<img style='width:60pt' src='../img/apple2e.png'/>
<figcaption class='image.caption'></figcaption>
</figure> 
   
  Whitespace in the image format should be ignored (except within quotes) 
  So the following is a valid image format. 
 <pre><code>
 [[ 
   ../img/logo.tricircle.png
   >>> 
 ]]
  
 </code></pre> 
 

  See if it works 
    
<figure style='float:right; width:60%'>
<img style='width:60%' src='http://bumble.sourceforge.net/books/pars/img/logo.tricircle.png'/>
<figcaption class='image.caption'></figcaption>
</figure>

<h4 class="subsection.heading">Captions for images</h4> 
  
  Captions for an image can be provided after the file name 
  with text within  <pre class='oneline'><code> """ (3 quotes).  </code></pre>
 
  Only single line captions are 
  allowed at the moment. 

  An example is 
<figure style='float:right; width:4cm'>
<img style='width:4cm' src='../img/apple2e.png'/>
<figcaption class='image.caption'>The Apple 2e logo</figcaption>
</figure>

<h3 class="section.heading">Keyboard keys</h3> 

  Typing <kbd>Enter</kbd> or <kbd>Ins</kbd> should render as some sort of 
  keystroke. This is not very important.

<h3 class="section.heading">Code lines and code blocks</h3> 

  Code blocks are delimited by at least 3 '-' characters starting a line 
  and with at least 3 ',' characters. So ---- and ,,,,, do not delimit 
  a code block because the ---- does not start a line. 

  Code lines are delimited by >> also starting a line. 
  Code lines and code blocks can be preceded by a line starting with 
  an asterisk <em></em> . The asterisk line is considered to be the description 
  of the following code. Here are some examples: 

 <figure class='code.line'><figcaption>
   <em>Some logo code to make a square. </em> </figcaption>  <pre class='oneline'><code> repeat 4 [ fd 40 rt 90 ] </code></pre>
 </figure> 
 

 <figure class='code.block'><figcaption>
   <em>Logo code to make an octogon</em> </figcaption> 
 <pre><code>
 repeat 8 [ 
   fd 40 rt 45 
 ]
  
 </code></pre> 
 </figure> 


<h3 class="section.heading">Section headings</h3> 

  Section headings consist of all upper-case lines. Quotes are 
  also allowed in section headings like this  <pre class='oneline'><code> COMMAND "PUSH" </code></pre>


<h4 class="subsection.heading">&laquo;subsection&raquo; headings</h4> 

  Subsections have the same format as section headings but end 
  the line with 4 dots like this .... 
  Currently no sub-sub-section headings are supported, because I 
  don&rsquo;t use them.

<h3 class="section.heading">Links and file names</h3> 
  
  File names and folders should be automatically linked or formatted 
  by looking at the file name extension and maybe a leading slash. 
  So <code>/books/pars/index.txt</code> should be marked up as a filename. 
  
  Any text beginning with www. or <code>http://</code> or <code>https://</code> etc should 
  probably be linked in HTML output or rendered differently 
  in other formats. 

  Source code for the pep/nom system is at <a href='http://bumble.sf.net/books/pars/'>http://bumble.sf.net/books/pars/</a> 
  The site <a href='http://www.craftinginterpreters.com'>www.craftinginterpreters.com</a> has links to a good book 
  about compiler and interpreter writing.

<h3 class="section.heading">Lists</h3> 

  This '<code>plain-text</code>' format supports ordered, unordered and definition 
  lists, but not, currently nested lists. Ordered lists start with o/- 
  at the beginning of a line and each item starts with a - dash 
  character. Unordered lists start with u/- and definition lists start 
  with d/- The lists are terminated with a blank line.
  
<h4 class="subsection.heading">Ordered lists</h4>
 <ol>

 <li> First item in an ordered list
 <li> second item
 <li> within lists other markup should be rendered 
       like filenames such as <code>file.png</code> and even images
 </ol>

 

 <figure class='code.line'><figcaption>
   <em>Empty items may make a list nest in latex. </em> </figcaption>  <pre class='oneline'><code> need to investigate. </code></pre>
 </figure> 

 <ol>

 <li> A list item with a code block 
 <pre><code>
      repeat 4 [ rt 90 ]
    
 </code></pre> 

 <li> second item containing a code line and description 

 <figure class='code.line'><figcaption>
   <em>Markup in lists</em> </figcaption>  <pre class='oneline'><code> continue; break; </code></pre>
 </figure> 

 <li> In the nomdoc format an emline* token is problematic 
       because it looks forward for the next token, which 
       causes problems in lists 

 <em>Here is trouble.</em>

 
     - within lists other markup should be rendered 
       like filenames such as <code>file.png</code> and even images
 </ol>



<h4 class="subsection.heading">Unordered lists</h4>
 <ul>

 <li> unordered lists start with u/-
 <li> each item has a '<code>-</code>' dash and 
       can span multiple lines
 <li> the list is terminated with a blank line.
 <li> lists cannot be nested at the moment.
 </ul>



<h4 class="subsection.heading">Definition lists</h4>
 <dl>

 <dt class=title> term</dt> definition
 <dt> item</dt>  
         each item (term and definition) begins with a dash '<code>-</code>' character, 
         and can span multiple lines.
 <dt> colon</dt>  The '<code>:</code>' character is used to delimit the definition 
         term from the definition. The newline character also can be 
         used to start the definition. Definitions can contain other 
         markup like code definitions  <pre class='oneline'><code> repeat 8 [ rt 45 fd 20 ] </code></pre>
 
         And also filenames like <code>mark.format.txt</code>
 <dt> no definition</dt>  empty
 <dt> delimiter</dt>  starts with a '<code>d/-</code>'
 <dt> the definition listends with</dt> 
 
         a blank line (a line consisting of only whitespace).
 </dl>

 

if a list has nothing in it, it should produce and empty list
 <ul>

 <li> empty
 </ul>



<h3 class="section.heading">Special words</h3> 

  It can be enjoyable to markup certain words like LaTeX with 
  special formatting, maybe even including a small icon. Candidates 
  would be Instagram, CommonMark, LaTeX, Pep

<h3 class="section.heading">Date lists</h3> 

  Often I write a series of entries under dates in format 
  such as 12 aug 2022 on a line by itself. These can be parsed and 
  translated just like the ordered/unordered/definition lists 
  These need to end with a special token since they can contain 
  blank-lines. Also dates like jan 2000 on a new line should 
  become dates. Month names can be a 3 letter abbreviation like: 
     jan feb mar apr may jun jul aug sept oct nov dec 
  or else the full month name in English like: 
     january february march april may june july august 
     september october november december 
  The recognition of the month name is case insensitive so: 
     jan feb march april may june 
  should all be seen as month names. 

  However, invalid dates like 33 jan 2001 should not be parsed as 
  dates. A date list must begin with a blank line and end with 
  a special token like [/dates] or [/date] or maybe just a double 
  blankline. 

  The date must be in the order; day month year so 
  mar 23 2000 
  is not considered a valid date, nor is 
  1999 aug 20 35 mar 2000 
  is also not a valid date, because the day number is out of range. 

 Following is a set of test lists, to ensure that the datelist* token 
 is parsing correctly. 

 <em>An completely empty datelist</em>

 
 <dt class='datelist'>

 <dt class=date>10 aug 2001</dt>
 ...
 </dt>

 

 <em>A list with a single word </em>

 
 <dt class='datelist'>

 <dt class=date>10 aug 2001</dt>
  
test
 </dt>

 

 <em>A list with a single word and blank line</em>

 
 <dt class='datelist'>

 <dt class=date>10 aug 2001</dt>
  
test
 </dt>

 

 <em>A list with 2 empty dates </em>

 
 <dt class='datelist'>

 <dt class=date>10 aug 2001</dt> ...
 <dd class=date.item11 aug 2001</dd> 
 ...
 </dt>

 

 <em>A date list with blank lines</em>

 
 <dt class='datelist'>

 <dt class=date>10 aug 2001</dt>  
blank lines
 <dd class=date.item11 august 2001</dd>  ...
 <dd class=date.item12 aug 2001</dd> 
 ...
 </dt>

 

 <em>A list with a code line in it</em>

 
 <dt class='datelist'>

 <dt class=date>3 aug 2001</dt>   <pre class='oneline'><code> include code in list </code></pre>
 
  second list. see <code>mark.format.txt</code> for info. 
  Maybe include lists in datelists. But not star lines 
  at the moment.
 <dd class=date.item4 aug 2001</dd> 
 ...
 </dt>

 


 <dt class='datelist'>
 <em>A datelist with a star line just before the end</em>
 <dt class=date>2 aug 2001</dt>
 ...
 </dt>



 

 

 <em>Datelist with a list in a date</em>

  <em>A datelist with star/code block</em> 
 <dt class='datelist'>

 <dt class=date>2 aug 2001</dt> 
 <ul>

 <li> things done
 <li> debug
 <li> think
 </ul>


 <dd class=date.item3 aug 2001</dd> 
   <pre class='oneline'><code> sed s///g </code></pre>

 </dt>

 
 <dt class='datelist'>

 <dt class=date>1 January 2010</dt>  
worked on this system. Blank lines should be allowed within 
  date lists. The date-list has no special start token, just 
  a valid date. The first date in the list needs to be on 
  a line by itself and with a blank line above it. The next 
  date items can have text after them. 
 <pre><code>
 some code
  
 </code></pre> 

 <dd class=date.item24 august 2022</dd>   
Thought about a logo language parser and drawing with it 
  in TCL/TK or java.
 <dd class=date.item25 aug 2022</dd>   
worked on this file <code>mark.format.txt</code> to provide documentation 
  for the <code>mark.latex.pss</code> script. 
 aug 2022 
  dates without a day number are not (currently) valid dates. 
  But the date needs to start a line so that: 
 1 jan 2022 is valid e there is this text after it.
 <dd class=date.item31 dec 2022</dd> 
  
The date list has a special end token '<code>[/dates]</code>'
 </dt>



 
<h3 class="section.heading">Glossaries and &laquo;faqs&raquo;</h3> 

  Although I don&rsquo;t use these lists much it could be handy to 
  have them in the format. The translation should be similar to 
  definition lists. 
   
   see the &laquo;<code>palindrome.pss</code>&raquo; file or the /tr folder. 
   " multiword quoted text""and" 
   " no end quote 
   """"   
   Open the document &laquo;<code>mark.html.pss</code>&raquo; or inspect <code>pep.c</code> 
   &lt;new&gt; 
   <a href='http://www.glintbox.org'>www.glintbox.org</a> <code>/file.txt</code> 
   [[ &lt;code&gt;/test.html&lt;/code&gt; 
   ]]
 </body> 

 </html> 


 <!-- Document parsed as text*! luckily -->
 <!-- Document parse-stack is: text*bl*--> 
