 

   <!DOCTYPE html>
   <html><head>
   <meta http-equiv='Content-type' content='text/html;charset=UTF-8' />
   <link rel='alternate' type='application/rss+xml'
     title='RSS Feed for Pep And Nom Blog' href='/rss.xml' />
   <title>Pep And Nom Blog</title>
   <!-- I will try to read this in with sed -->
   <style type='text/css'>
     


     body { 
       margin-left:5%; margin-right:5%; 
       padding:0; 

       /* need a darker grey color:gray; */
     }
     a { 
       text-decoration:none; 
       /* the wren.io link color */
       color: #3399cc;
       /* color:blue; */
     }
     a:hover { 
       color:darkblue; 
       border-bottom: 1px dashed blue; 
       /* border-top: 1px dashed blue; */
     }

     p { 
       margin-left:2em; margin-right:2em; 
       padding:0; 
     }

     /* used or 1st 2nd etc */

     sup.ordinal {
       text-decoration: underline;  
       color: darkgray;
       font-style: italic;
       text-transform: uppercase; 
     }

     h1.page-title { 
       text-align: center;
       color: peru; 
       /* brown colours: 
          siena,maroon,peru,goldenrod,chocolate,
          burlywood */
          
     }
     /* tan: a light brown */
     h1 { color: lightslategray; }
     /* make these headings capital case */
     h2 { 
       text-transform: capitalize; 
       color: lightslategray;
     }
     h3 { 
       text-transform: capitalize; 
       color: lightslategray; 
     }
     
     h3.blog-index-title { color: chocolate; }

     /* the date that is at the top of each blog post */
     h3.blog-post-date { color: darkkhaki; }
     
     div.footer { 
       text-align: center;
       color: goldenrod; 
       width: 100%;
       /* brown colours: 
          siena,maroon,peru,goldenrod,chocolate,
          burlywood */
     }

     /* a list of blog posts */
     dl.blog-index {
       margin-left: 2em;
     }

     /* a list of documents in a folder */
     dl.doc-index {
       margin-left: 2em;
     }
 
     /* a list within a list */
     ul.sublist {
       list-style-type: none;
     }
 
     /* an abbreviation like html, ast, xml */ 
     abbr.tek-acronym {
       border-bottom: 1px dashed purple; 
       text-decoration: none;
       text-transform: uppercase;
       /* font-style: italic; */
       font-size: 0.8em;
       *color: purple;
     }

     /* a one line description of a document  */
     em.doc-description {
       margin-left: 2em;
       color: lightslategray;
     }

     /* this is for pretty printing nom code. But I need lots 
        of span tags in the code. I copied this from the wren.io
        inspect element code snippet. <code> wrapped in <pre>
        in the html there is lots of 
          <span class="punctuation">.</span> etc
          and in the css .punctuation { color: #999; }

        Normal text is black/grey

        the pre has background color #f5f2f0 which is an offwhite
        here are the colours: 
          punctuation: #999 (grey)
          function eg 'print': #DD4A68 (red)
          string: #690 (green)
          keyword: #07A (aqua)
          operator eg '=' : #9a6e3a (brown)
        */

     /* start of pretty print css */

     pre.nom-code { 
       background-color: #f5f2f0;
       border-radius: 10px;
     }

     code.language-nom {
       font-family: Consolas, Monaco, monospace;
       text-align: left;
       white-space: pre;
       word-spacing: normal;
       word-break: normal;
       word-wrap: normal;
       line-height: 1.5;
     }

     span.nom-command { color: #9a6e3a;  /* brown */ }
     /* displaying unknown commands */
     span.nom-unknown { color: orange; }
     span.nom-error { color: red; } 
     span.nom-word { color: #09C; }
     span.nom-keyword { color: #07A; }
     span.nom-string { color: #690; }
     span.nom-class { color: #2A0; }
     span.nom-punct { color: #AAA; }
     span.nom-comment { color: gray; }
     
     /* end of pretty print css */

     /* displaying commands */
     code.nom-command {
       font-family: Consolas, Monaco, monospace;
       font-size: 0.9em;
     }

     /* This is used for file names as well */
     code {
       font-family: Consolas, Monaco, monospace;
       font-size: 0.9em;
     }

     /* used for parse tokens in documents (text ending in *) */
     code.nom-token { 
       color: gray;
       font-size: 0.9em;
       font-style: italic;
     }

     /* a single line of code */
     pre.codeline { 
       margin-left:2em; 
       padding:0; 
     }

     figcaption.code-caption { 
       color: white;
       /* background-color: lightslategray; */
       background-color: #DD8811; 
       border-radius: 4px;
       padding-left: 1em; padding-bottom: 4px; padding-top: 4px;
       font-weight: normal; 
       width: 90% 
       /* border-bottom: 1px solid lightgrey; */
     }

     /* a centred element or image */
     .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
     }

     /* an element which floats to the left */
     .float-left {
       float: left; 
       /*width: 10%; */
       text-align: center;
       font-style: italic;
       font-size: smaller;
       text-indent: 0;
       border-none;
       /* border: thin silver solid; */
       margin: 0.5em;
       padding: 0.5em;
     }

     /* an element which floats to the right */
    .float-right {
      float: right; 
      /*width: 10%; */
      text-align: center;
      font-style: italic;
      font-size: smaller;
      text-indent: 0;
      border: none;
      /* border: thin silver solid; */
      margin: 0.5em;
      margin-right: 3em;
      padding: 0.5em;
    }

    img.image-right {
      width: 100px;
    }
    img.image-left {
      width: 100px;
    }

    .chess-piece {
      /* background-color:#fff; */
      border:1px solid black;    
      border-radius:50%;
      font-size: 1.5em;
      padding: 5px;
    }

    /* this is for the big curly quotes before a <blockquote> quotation 
       html is <blockquote>text<cite>person</cite></blockquote> */
    blockquote.quotation {
      font-family: Georgia, serif;
      font-size: 18px;
      font-style: italic;
      width: 500px;
      margin: 0.25em 0;
      padding: 0.35em 40px;
      line-height: 1.45;
      position: relative;
      color: #383838;
    }

    blockquote.quotation:before {
      display: block;
      padding-left: 10px;
      content: "\201C";
      font-size: 80px;
      position: absolute;
      left: -20px;
      top: -20px;
      color: #7a7a7a;
    }

    blockquote.quotation cite {
      color: #999999;
      font-size: 14px;
      display: block;
      margin-top: 5px;
    }

    blockquote.quotation cite:before {
      content: "\2014 \2009";
    }
   </style></head>
   <body>

    


<p>
<!-- ------------ page title -------------------- -->
<h1 class='page-title'> &Popf;&eopf;&popf; ðŸ™´ &Nopf;&oopf;&mopf;</h1>

<a href='http://www.nomlang.org/'>home </a> |
<a href='/doc/'>documentation </a> |
<a href='/eg/'>examples </a> |
<a href='/tr/'>translators </a> |
<a href='/download/'>download </a> |
<a href='/doc/pepnom.doc.journal.html'>journal </a> |
<a href='/post/index.html'>blog </a> |
<a href='/post/posts.html'>all blog posts </a> 
<img style='border-radius:50%;width:10em;' class='float-right'  title='/image/json.grammar.card.800w.jpg' src='/image/json.grammar.card.800w.jpg'/>



<p>


<blockquote class="quotation">
   This is how you learn a language: 
     listen carefully, repeat faithfully, express freely.
 
<cite>mjb at nomlang.org, world-leading expert in nom, and hobby programmer</cite>
</blockquote>
<p>

<p>
<p>

<!-- doclist= -->
<!-- doc=./tr/index.txt -->
<!-- ------------------------------- -->
<h2> the translation folder for the &Popf;&eopf;&popf;/&Nopf;&oopf;&mopf; system</h2>

<p>
 This folder contains a number of <em>nom</em> <em>translation</em> scripts
 which are also capable of translating themselves and other 
 translation scripts as well.
<p>
 The scripts which are currently working and reasonably debugged
 are 
       <a href='/tr/nom.torust.pss' 
          title='nom to rust translation script'>rust</a> |
       <a href='/tr/nom.todart.pss' 
          title='nom to dart translation script'>dart</a> |
       <a href='/tr/nom.toperl.pss' 
          title='nom to perl translation script'>perl</a> |
       <a href='/tr/nom.tolua.pss' 
          title='nom to lua translation script'>lua</a> |
       <a href='/tr/translate.go.pss' 
          title='nom to go translation script'>go</a> |
       <a href='/tr/nom.tojava.doc.html' 
          title='nom to java translation script'>java</a> |
       <a href='/tr/translate.js.pss' 
          title='nom to javascript translation script'>javascript</a> |
       <a href='/tr/translate.ruby.pss' 
          title='nom to ruby translation script'>ruby</a> |
       <a href='/tr/translate.python.pss' 
          title='nom to python translation script'>python</a> |
       <a href='/tr/translate.tcl.pss' 
          title='nom to python translation script'>tcl</a> |
       <a href='/tr/translate.c.pss' 
          title='nom to c translation script'>c</a>
        
<p>
 Translation scripts which are <em>recent</em> (2025) have names like
 <a href='/eg/nom.todart.pss'><code>/eg/nom.todart.pss</code></a> or <a href='/eg/nom.tolua.pss'><code>/eg/nom.tolua.pss</code></a> and they are much better than
 the older scripts which have names like <a href='/eg/translate.java.pss'><code>/eg/translate.java.pss</code></a>
 or <a href='/eg/translate.tcl.pss'><code>/eg/translate.tcl.pss</code></a> But the older ones should still work for 
 translating many scripts.
<p>
 There is also a <em>helper</em> <em>nom</em> script called <a href='/eg/nom.to.pss'><code>/eg/nom.to.pss</code></a>
 which can translate any script to any other available language.
 This script accepts the command in 'english' such as 'translate
 &lt;file&gt; to ruby' 
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate the palindrome example script to rust
 </figcaption>
<pre class='codeline'>
 pep -f nom.to.pss -i 'palindrome.pss to rust' | bash
</pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate the translator to perl
 </figcaption>
<pre class='codeline'>
 pep -f nom.to.pss -i 'nom.to.pss to perl' | bash
</pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 use the translated translator to translate a script to lua
 </figcaption>
<pre class='codeline'>
 echo "palindrome.pss to lua" | ./nomto.pl 
</pre>
</figure>
<p>
 The <em>nom</em> scripts which I am currently writing (August 2025) all include 
 their own help system (usually triggered by the '/help' keyword or 
 some other help-word) and they also include self-translation which 
 is provided by the helper <em>nom</em> script <a href='/eg/nom.to.pss'><code>/eg/nom.to.pss</code></a> 
<p>
<!-- ------------------------------- -->
<h3> translation examples</h3>

<p>
 Here are some examples of how to translate a script into a target language
 listed above.
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate an inline script to lua and print to stdout 
 </figcaption>
<pre class='codeline'>
 pep -f nom.tolua.pss -i "r;[\n]{lines;add ' ';}print;d;"
</pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate an inline script to lua and run with input
 </figcaption>
<pre class='codeblock'>

    pep -f nom.tolua.pss -i "r;[\n]{lines;add ' ';}print;d;" &gt; test.lua
    echo -e "leaf \nbranch\n twig" | lua test.lua
    # This will print each line numbered, or run with a file at input
    # (but won't number the first line!)
    cat /usr/share/dict/words | lua test.lua
  </pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate a &Nopf;&oopf;&mopf; script file to lua and run with input
 </figcaption>
<pre class='codeblock'>

    pep -f tr/nom.tolua.pss eg/nom.syntax.reference.pss &gt; syntax.lua
    echo  "read;add '/';print;clear;" | lua syntax.lua
    # or run with a file at input
    cat eg/palindrome.pss | lua syntax.lua
    # or use the command line switches for input
    # (but this is more for testing purposes)
    lua syntax.lua --file eg/palindrome.pss 
    # or 
    lua syntax.lua --input "read;add '/';print;clear;" 
  </pre>
</figure>
<p>
<h2>BASH HELPER FUNCTIONS</h2>
<p>
 You can also use the bash functions in <a href='https://bumble.sf.net/books/pars/helpers.pars.sh'>bumble.sf.net/books/pars/helpers.pars.sh</a> to translate
 into a particular language. There are functions for each of the translator
 languages and they usually start with an abbreviation of the language
 name. If the function name ends with an 's' then it is for testing
 an in-line script in that language and if the fn name ends in 'f' then
 it is for translating/testing a script file. A double 's' ending means
 that <em>second-generation</em> testing will take place. 
 <p>
 &ldquo;Second-generation
&rdquo; script translation is a fairly spiffing pep,nom concept that is documented
 elsewhere but basically means translating the translator with itself 
 and then translating the target script into the same language and then
 testing it. It's sort of a way of testing the &ldquo;idem-potency&rdquo; of the 
 translator. (There is an even more bizarrely amazing &Popf;&eopf;&popf; ðŸ™µ  &Nopf;&oopf;&mopf; concept
 which is contained in the interpret() method of the new perl translator
 at <a href='/tr/nom.toperl.pss'><code>/tr/nom.toperl.pss</code></a> . This concept involves translating the perl
 translator with itself and then using the translated-translator to 
 <em>interpret</em> <em>nom</em> scripts. But I digress... ).
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate an inline script into the Ruby language and run with input
 </figcaption>
<pre class='codeline'>
 pep.rbs 'read;add".";print;clear;' 'abcd'
</pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate an inline script into rust, compile, and run with input
 </figcaption>
<pre class='codeline'>
 pep.rus 'read;add".";print;clear;' 'abcd'
</pre>
</figure>
<p>
 (I goes without saying - but I will say it - that you need the Rust 
 compiler <em>rustc</em> to be installed for this to work)
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 translate a script file into lua and run with input
 </figcaption>
<pre class='codeline'>
 pep.luaf script.pss '[a[b[c]]]'
</pre>
</figure>
<p>
 <p>
<h2>NOTES</h2>
<p>
 The Dart translator uses a library for grapheme-cluster parsing, and 
 that library needs to be referenced in a pubspec.yaml file and downloaded
 from the ether with 'pub get' or something similar. But actually the 
 <em>nom</em> translation helper script <a href='/eg/nom.to.pss'><code>/eg/nom.to.pss</code></a> will try to do all that 
 on your behalf (create the yaml file etc), but the bash helper scripts 
 will not.
<p>
<h2>HISTORY</h2>
<p>
 In this section I annotate work carried out on, and updates to
 the various translation scripts.
<p>
 31 Aug 2025
 <p>
 Made the interpret() method in the <a href='/eg/nom.toperl.pss'><code>/eg/nom.toperl.pss</code></a> script work
 which is pretty historic, because it means that a completely new 
 <em>pep</em> and <em>nom</em> interpreter now exists (after <code>nom.toperl.pss</code> has 
 translated itself). I called the self translation <a href='/tr/nom.pl'><code>/tr/nom.pl</code></a>
 and it even seems to work on big scripts like <a href='/eg/text.tohtml.pss'><code>/eg/text.tohtml.pss</code></a>
 <p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 try out the new (perl) &Nopf;&oopf;&mopf; interpreter
 </figcaption>
<pre class='codeline'>
 cat index.txt | ./nom.pl -E ../eg/text.tohtml.pss
</pre>
</figure>
 <p>
 So it is not necessary to translate the script to perl first <code>nom.pl</code>
 is an interpreter.
 <p>
 28 Aug 2025
<p>
 I am in the process of adding the <code class='nom-command'><a title='nom command reference: system' href='http://nomlang.org/doc/commands/nom.system.html'>system</a></code> command to each
 translation script. Also, I added the <a title='nom syntax reference: accumulator' href='http://nomlang.org/doc/machine/pep.accumulator.html'>accumulator</a> as an exit 
 code for the <code class='nom-command'><a title='nom command reference: quit' href='http://nomlang.org/doc/commands/nom.quit.html'>quit</a></code> command which seems a simple and elegant
 solution to allowing scripts to be pure <em>recognisers</em> .
<p>
 June 2025
 <p>
 Created some new and much better translation scripts for 
 dart <a href='/tr/nom.todart.pss'><code>/tr/nom.todart.pss</code></a> rust <a href='/tr/nom.torust.pss'><code>/tr/nom.torust.pss</code></a> perl <a href='/tr/nom.toperl.pss'><code>/tr/nom.toperl.pss</code></a>
 and lua <a href='/tr/nom.tolua.pss'><code>/tr/nom.tolua.pss</code></a> These scripts have all parsing code in
 a parse() method and accept command-line switches for parsing from
 a file or from &lt;stdin&gt; They also have better debugged <code class='nom-command'><a title='nom command reference: escape' href='http://nomlang.org/doc/commands/nom.escape.html'>escape</a></code>
 and <code class='nom-command'><a title='nom command reference: unescape' href='http://nomlang.org/doc/commands/nom.unescape.html'>unescape</a></code> commands and are much more <em>mindful</em> and 
 <em>thoughtful</em> of Unicode and UTF8 and code-points and grapheme 
 clusters. At the very least they are designed to acknowledge the 
 problem of unicode code-points versus grapheme clusters. However
 only the Dart translator currently actually parses grapheme clusters.
 <p>
 For much more information about work carried out on these amazing
 translation scripts see the work journal at 
 <a href='/doc/pepnom.doc.journal.html'><code>/doc/pepnom.doc.journal.html</code></a> 
<p>
<p>

<div class='footer'><small><em>

<img style='border-radius:50%;width:10em;' class='center'  title='/image/fig.deniliquin.jpg' src='/image/fig.deniliquin.jpg'/>

retro html <a href='/eg/text.tohtml.format.html'>formatted </a> by <a href='/eg/text.tohtml.pss'>nom </a>
comments/suggestions to: <em>mjb at nomlang dot org</em> 
<p>

  </em></small></div></body></html>
