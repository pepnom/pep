 

   <!DOCTYPE html>
   <html><head>
   <meta http-equiv='Content-type' content='text/html;charset=UTF-8' />
   <link rel='alternate' type='application/rss+xml'
     title='RSS Feed for Pep And Nom Blog' href='/rss.xml' />
   <title>Pep And Nom Blog</title>
   <!-- I will try to read this in with sed -->
   <style type='text/css'>
     


     body { 
       margin-left:5%; margin-right:5%; 
       padding:0; 
       color: #202122;

       /* need a darker grey color:gray; */
     }
     a { 
       text-decoration:none; 
       /* the wren.io link color */
       /* color: #3399cc; */
       color: #386acd;
       /* color:blue; */
     }
     a:hover { 
       /* color:darkblue; */
       color: #3056ad;
       border-bottom: 1px dashed blue; 
     }

     p { 
       margin-left:2em; margin-right:2em; 
       padding:0; 
     }

     /* used or 1st 2nd etc */

     sup.ordinal {
       text-decoration: underline;  
       color: darkgray;
       font-style: italic;
       text-transform: uppercase; 
     }

     h1.page-title { 
       text-align: center;
       color: peru; 
       /* brown colours: 
          siena,maroon,peru,goldenrod,chocolate,
          burlywood */
          
     }
     /* tan: a light brown */
     h1 { color: lightslategray; }
     /* make these headings capital case */
     h2 { 
       text-transform: capitalize; 
       color: lightslategray;
     }
     h3 { 
       text-transform: capitalize; 
       color: lightslategray; 
     }
     
     h3.blog-index-title { color: chocolate; }

     /* the date that is at the top of each blog post */
     h3.blog-post-date { color: darkkhaki; }
     
     div.footer { 
       text-align: center;
       color: goldenrod; 
       width: 100%;
       /* brown colours: 
          siena,maroon,peru,goldenrod,chocolate,
          burlywood */
     }

     /* a list of blog posts */
     dl.blog-index {
       margin-left: 2em;
     }

     /* a list of documents in a folder */
     dl.doc-index {
       margin-left: 2em;
     }
 
     /* a list within a list */
     ul.sublist {
       list-style-type: none;
     }
 
     /* an abbreviation like html, ast, xml */ 
     abbr.tek-acronym {
       border-bottom: 1px dashed purple; 
       text-decoration: none;
       text-transform: uppercase;
       /* font-style: italic; */
       font-size: 0.8em;
       *color: purple;
     }

     /* a one line description of a document  */
     em.doc-description {
       margin-left: 2em;
       color: lightslategray;
     }

     /* this is for pretty printing nom code. But I need lots 
        of span tags in the code. I copied this from the wren.io
        inspect element code snippet. <code> wrapped in <pre>
        in the html there is lots of 
          <span class="punctuation">.</span> etc
          and in the css .punctuation { color: #999; }

        Normal text is black/grey

        the pre has background color #f5f2f0 which is an offwhite
        here are the colours: 
          punctuation: #999 (grey)
          function eg 'print': #DD4A68 (red)
          string: #690 (green)
          keyword: #07A (aqua)
          operator eg '=' : #9a6e3a (brown)
        */

     /* start of pretty print css */

     pre.nom-code { 
       background-color: #f5f2f0;
       border-radius: 10px;
     }

     code.language-nom {
       font-family: Consolas, Monaco, monospace;
       text-align: left;
       white-space: pre;
       word-spacing: normal;
       word-break: normal;
       word-wrap: normal;
       line-height: 1.5;
     }

     span.nom-command { color: #9a6e3a;  /* brown */ }
     /* displaying unknown commands */
     span.nom-unknown { color: orange; }
     span.nom-error { color: red; } 
     span.nom-word { color: #09C; }
     span.nom-keyword { color: #07A; }
     span.nom-string { color: #690; }
     span.nom-class { color: #2A0; }
     span.nom-punct { color: #AAA; }
     span.nom-comment { color: gray; }
     
     /* end of pretty print css */

     /* displaying commands */
     code.nom-command {
       font-family: Consolas, Monaco, monospace;
       font-style: italic;
       font-size: 0.9em;
     }

     /* This is used for file names as well */
     code {
       font-family: Consolas, Monaco, monospace;
       font-size: 0.9em;
     }

     /* used for parse tokens in documents (text ending in *) */
     code.nom-token { 
       color: gray;
       font-size: 0.9em;
       font-style: italic;
     }

     /* a single line of code */
     pre.codeline { 
       margin-left:2em; 
       padding:0; 
     }

     figcaption.code-caption { 
       color: white;
       background-color: lightslategray; 
       #background-color: tan; 
       # background-color: sienna; 
       border-radius: 4px;
       padding-left: 1em; padding-bottom: 4px; padding-top: 4px;
       font-weight: normal; 
       width: 90% 
       /* border-bottom: 1px solid lightgrey; */
     }

     /* a centred element or image */
     .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
     }

     /* an element which floats to the left */
     .float-left {
       float: left; 
       /*width: 10%; */
       text-align: center;
       font-style: italic;
       font-size: smaller;
       text-indent: 0;
       border-none;
       /* border: thin silver solid; */
       margin: 0.5em;
       padding: 0.5em;
     }

     /* an element which floats to the right */
    .float-right {
      float: right; 
      /*width: 10%; */
      text-align: center;
      font-style: italic;
      font-size: smaller;
      text-indent: 0;
      border: none;
      /* border: thin silver solid; */
      margin: 0.5em;
      margin-right: 3em;
      padding: 0.5em;
    }

    img.image-right {
      width: 100px;
    }
    img.image-left {
      width: 100px;
    }

    .chess-piece {
      /* background-color:#fff; */
      border:1px solid black;    
      border-radius:50%;
      font-size: 1.5em;
      padding: 5px;
    }

    /* this is for the big curly quotes before a <blockquote> quotation 
       html is <blockquote>text<cite>person</cite></blockquote> */
    blockquote.quotation {
      font-family: Georgia, serif;
      font-size: 18px;
      font-style: italic;
      width: 500px;
      margin: 0.25em 0;
      padding: 0.35em 40px;
      line-height: 1.45;
      position: relative;
      color: #383838;
    }

    blockquote.quotation:before {
      display: block;
      padding-left: 10px;
      content: "\201C";
      font-size: 80px;
      position: absolute;
      left: -20px;
      top: -20px;
      color: #7a7a7a;
    }

    blockquote.quotation cite {
      color: #999999;
      font-size: 14px;
      display: block;
      margin-top: 5px;
    }

    blockquote.quotation cite:before {
      content: "\2014 \2009";
    }
   </style></head>
   <body>

    
<p>
<p>


<p>
<!-- ------------ page title -------------------- -->
<h1 class='page-title'> &Popf;&eopf;&popf; ðŸ™´ &Nopf;&oopf;&mopf;</h1>

<a href='http://www.nomlang.org/'>home </a> |
<a href='/doc/'>documentation </a> |
<a href='/eg/'>examples </a> |
<a href='/tr/'>translators </a> |
<a href='/download/'>download </a> |
<a href='/post/index.html'>blog </a> |
<a href='/post/posts.html'>all blog posts </a> 
<img style='border-radius:50%;width:10em;' class='float-right'  src='/image/figure.eight.600w.jpg'/>

<p>


<p>

<p>
<p>
<!-- doclist= -->
<!-- doc=./doc/commands/nom.add.txt -->
<p>
<!-- ------------------------------- -->
<h2> the &Nopf;&oopf;&mopf; "add" command</h2>

 <p>
 <em>add</em> or appends the given text to the end of the <code class='nom-command'><a title='nom command reference: workspace' href='http://nomlang.org/doc/commands/nom.workspace.html'>workspace</a></code>
 buffer. 
 <p>
 This command is a real workhorse of the 
<abbr class='tek-acronym' 
      title='Parsing Engine for Patterns'>&Popf;&eopf;&popf;</abbr> and 
<abbr class='tek-acronym' 
      title='Nom Parsing Language'>&Nopf;&oopf;&mopf;</abbr> system. It
 is used for creating the text attributes that go onto the 
 <a title='nom syntax reference: tape' href='http://nomlang.org/doc/machine/pep.tape.html'>tape</a> and also for making the parse-tokens that are <a title='nom command reference: push' href='http://nomlang.org/doc/commands/nom.push.html'>pushed
 </a> onto the <a title='nom syntax reference: stack' href='http://nomlang.org/doc/machine/pep.stack.html'>stack</a> .
<p>
 The command takes one <a title='nom syntax reference: quotes' href='http://nomlang.org/doc/syntax/nom.syntax.quotes.html'>quoted </a> parameter which is 
 the text to be appended to the <em>workspace*. The parameter can be </em> single-quoted or double, there is no difference. And the quoted parameter
 can extend over multiple lines.
<p>
 No other register or buffer within the <a title='pep machine reference: machine' href='http://nomlang.org/doc/machine/pep.machine.html'>pep </a> virtual machine is
 affected by the <em>add</em> command. 
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 using add in a typical way during parsing
 </figcaption>
<pre class='nom-code'><code class='language-nom'>

    <span class='nom-command'>pop</span><span class='nom-punct'>;</span><span class='nom-command'>pop</span><span class='nom-punct'>;</span>
    <span class='nom-string'>"command*end*"</span> <span class='nom-punct'>{</span>
      <span class='nom-command'>clear</span><span class='nom-punct'>;</span> <span class='nom-command'>add</span> <span class='nom-string'>"statement*"</span><span class='nom-punct'>;</span> <span class='nom-command'>push</span><span class='nom-punct'>;</span> <span class='nom-punct'>.</span><span class='nom-command'>reparse</span>
    <span class='nom-punct'>}</span>
    <span class='nom-command'>push</span><span class='nom-punct'>;</span><span class='nom-command'>push</span><span class='nom-punct'>;</span>
  </code></pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 The quoted argument may span more than one line. For example:
 </figcaption>
<pre class='nom-code'><code class='language-nom'>

    <span class='nom-keyword'>begin</span> <span class='nom-punct'>{</span> 
      <span class='nom-command'>add</span> <span class='nom-string'>'
        A multi-line 
        argument for the "add" command.
      '</span><span class='nom-punct'>;</span>
     <span class='nom-punct'>}</span> <span class='nom-command'>read</span><span class='nom-punct'>;</span> <span class='nom-command'>print</span><span class='nom-punct'>;</span> <span class='nom-command'>clear</span><span class='nom-punct'>;</span>

  </code></pre>
</figure>
 <p>
 It is possible to use escaped characters such as \n \r \t \f or \" in 
 the quoted argument.
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 add a newline to the workspace after a full stop
 </figcaption>
<pre class='codeline'>
 r; E"." { add "\n"; } print; clear;
</pre>
</figure>
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 Add a space after every character of the input 
 </figcaption>
<pre class='nom-code'><code class='language-nom'>

    <span class='nom-command'>read</span><span class='nom-punct'>;</span> <span class='nom-command'>add</span> <span class='nom-string'>' '</span><span class='nom-punct'>;</span> <span class='nom-command'>print</span><span class='nom-punct'>;</span> <span class='nom-command'>clear</span><span class='nom-punct'>;</span>
    <span class='nom-comment'># or the same using abbreviated commands</span>
    <span class='nom-comment'># r; a ' ';p;d;  </span>
  </code></pre>
</figure>
 <p>
 &ldquo;Add&rdquo; is used to create new tokens and to modify the token attributes.
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 create and push (shift) a token using the "add" command
 </figcaption>
<pre class='nom-code'><code class='language-nom'>

   <span class='nom-string'>"style*type*"</span> <span class='nom-punct'>{</span>
     <span class='nom-command'>clear</span><span class='nom-punct'>;</span>
     <span class='nom-command'>add</span> <span class='nom-string'>"command*"</span><span class='nom-punct'>;</span>
     <span class='nom-command'>push</span><span class='nom-punct'>;</span>
   <span class='nom-punct'>}</span>
  </code></pre>
</figure>
<p>
 The script above does a shift-reduce operation while parsing some
 hypothetical language. The &ldquo;add&rdquo; command is used to add a new token name to
 the 'workspace' buffer which is then pushed onto the stack (using the 'push'
 operation, naturally). In the above script the text added can be seen to be
 a token name (as opposed to some other arbitrary piece of text) because it
 ends in the &ldquo;*&rdquo; character. Actually any character can be used to delimit
 the token names, put &ldquo;*&rdquo; is the default. This can be changed with
 the <code class='nom-command'><a title='nom command reference: delim' href='http://nomlang.org/doc/commands/nom.delim.html'>delim</a></code> command.
<p>
 The add command takes <em>one</em> and only one parameter, or argument.
 <p>
<!-- ------------------------------- -->
<h3> notes</h3>

<p>
 <em>add</em> is the typical way to create new parse-tokens during 
 shift-reduce parsing (after <a title='nom command reference: clear' href='http://nomlang.org/doc/commands/nom.clear.html'>clearing </a> the <a title='nom syntax reference: workspace' href='http://nomlang.org/doc/machine/pep.workspace.html'>workspace</a>
 buffer). But when we use <em>lookahead</em> for contextual parse-token
 sequence reductions, then we often need to use <code class='nom-command'><a title='nom command reference: replace' href='http://nomlang.org/doc/commands/nom.replace.html'>replace</a></code> instead
 of <em>add*. This is because we may not know what the lookahead token</em> is - we only know what it is <em>not</em> .
<p>
 <figure class='code-with-caption'>
<figcaption class='code-caption'>
 add a quote after the ':' character
 </figcaption>
<pre class='codeline'>
 r; [\:] { add "\""; } print; clear;  # non java fix!!
</pre>
</figure>
 <pre class='codeline'>
 r; [:] { add "\""; } print; clear; # java version
</pre>

<p>
 But it shouldn&apos;t be necessary to escape ':'
<p>
<div class='footer'><small><em>
<p>

<img style='border-radius:50%;width:10em;' class='center'  src='/image/fig.deniliquin.jpg'/>

retro html <a href='/eg/text.tohtml.format.html'>formatted </a> by <a href='/eg/text.tohtml.pss'>nom </a>
comments/suggestions to: <em>mjb at nomlang dot org</em> 
<p>
  </em></small></div></body></html>
