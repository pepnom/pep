
## STRUCTURE OF A NOM SCRIPT

  About the lexical analysis and parsing phases of a [nom] script.

### LEXICAL PHASE

  Like most systems which are designed to parse and compile context-free
  languages, parse scripts normally have 2 distinct phases: A "lexing" phase
  and a parse/compile/translate phase. This is shown by the separation of the
  Unix tools "lex" and "yacc" where lex performs the lexical analysis (which
  consists of the recognition and creation of lexical tokens), and yacc
  performs parsing and compilation of tokens.
   
  In the nomsf://compile.pss program, as with many scripts that can be written
  in the parse language, the lexical analysis and compilation phases are
  combined into the same script. 

  In the first phase, the program performs lexical analysis of the input
  (which is an uncompiled script in the pep/nom language), and converts
  certain patterns into "tokens".  In this system, a "token" is just a string
  (text) terminated in an asterisk (*) character. Asm.pp constructs these
  tokens by using the "add" machine instruction, which appends text to the
  workspace buffer.

  Next the parse token is "pushed" onto the "stack". I have quoted these
  words because the stack buffer is implemented as a string (char *) 
  buffer and "pushing" and "popping" the stack really just involves
  moving the workspace pointer back and forth between asterisk characters.

  I used this implementation because I thought that it would be fast and simple
  to implement in the "c" language. It also means that we don't have to worry
  about how much memory is allocated for the stack buffer or each of its items.
  As long as there is enough memory allocated for the workspace buffer (which
  is actually just the end of the stack buffer) there will be enough room for
  the stack.

  The lexical phase of "asm.pp" also involves preserving the "attribute"
  of the parse token. For example if we have some text such as
  "hannah" then our parse token may be "quoted.text*"
  and the attribute is the actual text between the quotes 'hannah'.
  The attribute is preserved on the machine tape data structure, which 
  is array of string cells (with no fixed size), in which data can
  be inserted at any point by using the tape pointer.

### PARSING PHASE
  
  The parsing phase of the asm.pp compiler (which is generated by the [nom]
  script nomsf://compile.pss involves recognising and *shift-reducing* the
  parse token sequences that are on the machine "stack".  These tokens are just
  strings post-delimited with the '*' character.  Because the tokens are text,
  they are popped onto the pep://workspace buffer and then manipulated using the
  *workspace* text commands.
 
